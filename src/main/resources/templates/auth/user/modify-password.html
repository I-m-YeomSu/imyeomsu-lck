<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>User Profile</title>

    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,400i,600,700,700i&display=swap" rel="stylesheet">
    <link href="../../css/bootstrap.css" rel="stylesheet">
    <link href="../../css/fontawesome-all.css" rel="stylesheet">
    <link href="../../css/swiper.css" rel="stylesheet">
    <link href="../../css/magnific-popup.css" rel="stylesheet">
    <link href="../../css/styles.css" rel="stylesheet">
    <link href="../../css/my-page.css" rel="stylesheet">
    <link rel="icon" href="/images/logo/apple-icon.png">
</head>
<body data-spy="scroll" data-target=".fixed-top">

<div th:insert="~{fragments/nav/template-nav :: template-nav}" class="replaceAttribute"></div>
<div th:insert="~{fragments/header/common-template-header :: common-template-header}" class="replaceAttribute"></div>

<div class="wrapper-container">
    <div class="profile-container">
        <div class="card">
            <div class="card-body">
                <h3 class="card-title">비밀번호 수정하기</h3>
                <p class="card-text"><strong>이름: </strong> <span th:text="${memberDetails.memberName}">User Name</span></p>
                <p class="card-text"><strong>Email</strong> <span th:text="${memberDetails.loginId}">010-XXXX-XXXX</span></p>
                <p class="card-text"><strong>전화번호:</strong> <span th:text="${memberDetails.memberPhone}">010-XXXX-XXXX</span></p>

                <form th:action="@{/auth/modify/password/{loginId}(loginId=${memberDetails.loginId})}" method="post">

                    <input class="form-control form-control-lg" name="newPassword" type="password" placeholder="Create a password" id="password" required>
                    <input class="form-control form-control-lg" name="password_check" type="password" placeholder="Confirm your password" id="password_check" required>

                    <button class="btn btn-primary pt-2 mt-2" type="submit">수정하기</button>
                </form>
                <p class="card-text"></p>

            </div>
        </div>
    </div>
</div>




<div th:insert="~{fragments/footer/template-footer :: template-footer}" class="replaceAttribute"></div>
<div th:insert="~{fragments/footer/template-copyright :: template-copyright}" class="replaceAttribute"></div>

<script src="../../js/jquery.min.js"></script>
<script src="../../js/popper.min.js"></script>
<script src="../../js/bootstrap.min.js"></script>
<script src="../../js/scripts.js"></script>
<script>
    var password = document.getElementById("password")
        ,password_check = document.getElementById("password_check");

    function validatePassword(){
        if(password.value !== password_check.value) {
            password_check.setCustomValidity("비밀번호가 일치하지 않습니다");
        }
        else {
            password_check.setCustomValidity('');
        }
    }

    password.onchange = validatePassword;
    password_check.onkeyup = validatePassword;

</script>
</body>
</html>
